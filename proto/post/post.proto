syntax= "proto3";

package post;

import "google/protobuf/empty.proto";
import "base_models/base_models.proto";

option go_package = "github.com/relaunch-cot/lib-relaunch-cot/proto/post";

////////////////////////////// CREATE POST REQUEST
message CreatePostRequest {
  string userId = 1;
  string title = 2;
  string content = 3;
  string type = 4;
  string urlImagePost = 5;
}

////////////////////////////// GET POST REQUEST
message GetPostRequest {
  string postId = 1;
}

////////////////////////////// GET POST RESPONSE
message GetPostResponse {
  base_models.Post post = 1;
}

////////////////////////////// GET ALL POSTS FROM USER REQUEST
message GetAllPostsFromUserRequest {
  string userId = 1;
}

////////////////////////////// GET ALL POSTS FROM USER RESPONSE
message GetAllPostsFromUserResponse {
  repeated base_models.Post posts = 1;
}

////////////////////////////// UPDATE POST REQUEST
message UpdatePostRequest {
  string postId = 1;
  string userId = 2;
  string title = 3;
  string content = 4;
  string urlImagePost = 5;
}

////////////////////////////// UPDATE POST RESPONSE
message UpdatePostResponse {
  base_models.Post post = 1;
}

////////////////////////////// DELETE POST REQUEST
message DeletePostRequest {
  string postId = 1;
  string userId = 2;
}

////////////////////////////// GET ALL POSTS RESPONSE
message GetAllPostsResponse {
  repeated base_models.Post posts = 1;
}

////////////////////////////// UPDATE LIKES FROM POST REQUEST
message UpdateLikesFromPostRequest {
  string postId = 1;
  string userId = 2;
}

////////////////////////////// UPDATE LIKES FROM POST RESPONSE
message UpdateLikesFromPostResponse {
  base_models.PostLikes likesFromPost = 1;
}

message AddCommentToPostRequest {
  string postId = 1;
  string userId = 2;
  string content = 3;
}

message AddCommentToPostResponse {
  base_models.PostComments commentsFromPost = 1;
}

message RemoveCommentFromPostRequest {
  string postId = 1;
  string userId = 2;
  string commentId = 3;
}

message RemoveCommentFromPostResponse {
  base_models.PostComments commentsFromPost = 1;
}

service PostService {
  rpc CreatePost(CreatePostRequest) returns(google.protobuf.Empty);
  rpc GetPost(GetPostRequest) returns(GetPostResponse);
  rpc GetAllPostsFromUser(GetAllPostsFromUserRequest) returns(GetAllPostsFromUserResponse);
  rpc UpdatePost(UpdatePostRequest) returns(UpdatePostResponse);
  rpc DeletePost(DeletePostRequest) returns(google.protobuf.Empty);
  rpc GetAllPosts(google.protobuf.Empty) returns(GetAllPostsResponse);
  rpc UpdateLikesFromPost(UpdateLikesFromPostRequest) returns(UpdateLikesFromPostResponse);
  rpc AddCommentToPost(AddCommentToPostRequest) returns(AddCommentToPostResponse);
  rpc RemoveCommentFromPost(RemoveCommentFromPostRequest) returns(RemoveCommentFromPostResponse);
}