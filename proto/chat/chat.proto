syntax= "proto3";

package chat;

import "google/protobuf/empty.proto";
import "base_models/base_models.proto";

option go_package = "github.com/relaunch-cot/lib-relaunch-cot/proto/chat";

//////////////////////////////// CREATE NEW CHAT REQUEST
message CreateNewChatRequest {
  repeated string userIds = 1;
  string createdBy = 2;
}

//////////////////////////////// SEND MESSAGE REQUEST
message SendMessageRequest {
  string senderId = 1;
  string chatId = 2;
  string messageContent = 3;
}

//////////////////////////////// GET ALL MESSAGES FROM CHAT REQUEST
message GetAllMessagesFromChatRequest {
  string chatId = 1;
}

//////////////////////////////// GET ALL MESSAGES FROM CHAT RESPONSE
message GetAllMessagesFromChatResponse {
  repeated base_models.Message messages = 1;
}

//////////////////////////////// GET ALL CHATS FROM USER REQUEST
message GetAllChatsFromUserRequest {
  string userId = 1;
}

//////////////////////////////// GET ALL CHATS FROM USER RESPONSE
message GetAllChatsFromUserResponse {
  repeated base_models.Chat chats = 1;
}

//////////////////////////////// GET CHAT FROM USERS REQUEST
message GetChatFromUsersRequest {
  repeated string userIds = 1;
}

//////////////////////////////// GET CHAT FROM USERS RESPONSE
message GetChatFromUsersResponse {
  base_models.Chat chat = 1;
}

//////////////////////////////// GET CHAT BY ID REQUEST
message GetChatByIdRequest {
  string chatId = 1;
}

//////////////////////////////// GET CHAT BY ID RESPONSE
message GetChatByIdResponse {
  base_models.Chat chat = 1;
}

service ChatService {
  rpc CreateNewChat(CreateNewChatRequest) returns(google.protobuf.Empty);
  rpc SendMessage(SendMessageRequest) returns(google.protobuf.Empty);
  rpc GetAllMessagesFromChat(GetAllMessagesFromChatRequest) returns(GetAllMessagesFromChatResponse);
  rpc GetAllChatsFromUser(GetAllChatsFromUserRequest) returns(GetAllChatsFromUserResponse);
  rpc GetChatFromUsers(GetChatFromUsersRequest) returns(GetChatFromUsersResponse);
  rpc GetChatById(GetChatByIdRequest) returns(GetChatByIdResponse);
}